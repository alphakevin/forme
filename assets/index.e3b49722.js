var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,o=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&i(e,n,t[n]);if(r)for(var n of r(t))l.call(t,n)&&i(e,n,t[n]);return e},c=(e,r)=>t(e,n(r)),s=(e,t)=>{var n={};for(var i in e)a.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&r)for(var i of r(e))t.indexOf(i)<0&&l.call(e,i)&&(n[i]=e[i]);return n};const m={};import{r as d,t as u,D as p,c as f,u as h,R as y,a as E,b as g,F as v,I as x,d as b,i as N,h as C,g as S,o as k,e as w,f as T,j as I,k as D,l as F,L as O,M as A,T as L,S as q,m as _,n as P,p as $}from"./vendor.e2ae0553.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var M="_app_7bstd_1",B="_header_7bstd_5",R="_fields_7bstd_12",j="_tabs_7bstd_16",V="_outline_7bstd_30",z="_library_7bstd_31",K="/forme/assets/Section.f14b4302.svg",X=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Form:"/forme/assets/Form.6460ac37.svg",LongAnswer:"/forme/assets/LongAnswer.d92d19b6.svg",Section:K,ShortAnswer:"/forme/assets/ShortAnswer.7f895f28.svg",SingleCheckbox:"/forme/assets/SingleCheckbox.9c06ca68.svg",Term:"/forme/assets/Term.aa61a3b9.svg"});d.exports.createContext(null).Provider;const Q=e=>{let t="";if("string"==typeof e)if(e.startsWith("http")){const{pathname:n}=new URL(e);t=n.split("/src/").pop().split(".")[0].replace(/\//g,":")}else t=e;const n=p(t);return n.enabled=!0,n.log=console.log.bind(console),(e,...t)=>n.apply(n,[e,...t].map(u))};var Y;f(Array(52).fill(0).map(((e,t)=>String.fromCharCode(t<26?t+65:t+71))).join(""),6),Q(null==m?void 0:m.url),Q(null==m?void 0:m.url),(Y||(Y={})).Component="Component";d.exports.createContext(null).Provider;let U=1;function H(){return U++,"id-"+U}const J={id:H(),type:"Form",title:"The Ultra Form",children:[{id:H(),type:"Section",title:"Basic Information",children:[{id:H(),type:"Term",title:"Name",children:[{id:H(),type:"ShortAnswer",question:"First Name"},{id:H(),type:"ShortAnswer",question:"Last Name"},{id:H(),type:"ShortAnswer",question:"Nick Name"}]},{id:H(),type:"Term",title:"Pet",children:[{id:H(),type:"SingleCheckbox",question:"Do you have pets?",checkedOption:"I have one or more pet",uncheckedOption:"I don't have any pet"}]},{id:H(),type:"Term",title:"Computer",children:[{id:H(),type:"SingleCheckbox",question:"Do you have Mac?",checkedOption:"I have Mac",uncheckedOption:"I don't Mac"},{id:H(),type:"SingleCheckbox",question:"Do you have PC?",checkedOption:"I have PC",uncheckedOption:"I don't PC"}]}]},{id:H(),type:"Section",title:"Technical Information",children:[{id:H(),type:"Term",title:"Language Level",children:[{id:H(),type:"ShortAnswer",question:"Javascript"},{id:H(),type:"ShortAnswer",question:"go lang"},{id:H(),type:"ShortAnswer",question:"Python"}]},{id:H(),type:"Term",title:"Front End",children:[{id:H(),type:"SingleCheckbox",question:"Do you have React experience?",checkedOption:"Yes, I have",uncheckedOption:"No, never heard of that"}]},{id:H(),type:"Term",title:"Other",children:[]}]}]},W=[{type:"Form",name:"Form",category:"Container",level:0,childTypes:["Section"],disabled:!0,getData:e=>{const t=H();return c(o({type:"Form",title:"Default Section "+t,children:[]},e),{id:t})}},{type:"Section",name:"Section",category:"Container",level:1,childTypes:["Term"],getData:e=>{const t=H();return c(o({type:"Section",title:"Default Section "+t,children:[]},e),{id:t})}},{type:"Term",name:"Term",category:"Container",level:2,childTypes:["ShortAnswer","LongAnswer","SingleCheckbox"],getData:e=>{const t=H();return c(o({type:"Term",title:"Default Term "+t,children:[]},e),{id:t})}},{type:"ShortAnswer",name:"Short Answer",category:"FormField",level:3,getData:e=>{const t=H();return c(o({type:"ShortAnswer",annotationId:null,tip:null,description:"",label:"",question:"Question for short answer "+t},e),{id:t})}},{type:"LongAnswer",name:"Long Answer",category:"FormField",level:3,getData:e=>{const t=H();return c(o({type:"LongAnswer",annotationId:null,tip:null,description:"",label:"",question:"Question for long answer "+t},e),{id:t})}},{type:"SingleCheckbox",name:"Single Checkbox",category:"FormField",level:3,getData:e=>{const t=H();return c(o({type:"SingleCheckbox",annotationId:null,tip:null,description:"",question:"Question for single checkbox "+t,checkedOption:"",uncheckedOption:""},e),{id:t})}}],Z={};function G(e){return e?Z[e]:void 0}function ee(e){return W.filter(e).map((e=>e.type))}function te(e){var t;return null==(t=null==e?void 0:e.data)?void 0:t.current}W.forEach((e=>{Z[e.type]=e}));function ne(){const{over:e,activeNode:t,scrollableAncestors:n}=h();if(!e||!t)return null;const{left:r,top:a}=n.reduce(((e,t)=>({left:e.left-t.scrollLeft,top:e.top-t.scrollTop})),{left:0,top:0}),{offsetLeft:l,offsetTop:i,width:o,height:c}=e.rect,s=te(e);return y.createElement("div",{className:"Debug",style:{left:r+l,top:a+i,width:o,height:c}},y.createElement("span",{className:"text"},"type",y.createElement("b",null,"="),y.createElement("span",null,s.item.type)," id",y.createElement("b",null,"="),y.createElement("span",null,s.item.id)," ",void 0!==s.index&&y.createElement(y.Fragment,null,"index",y.createElement("b",null,"="),y.createElement("span",{className:"number"},s.index))))}function re(){const{active:e}=h(),t=te(e);return null==t?void 0:t.item.type}function ae(e){const t=re();return d.exports.useMemo((()=>function(e,t){var n,r;if(!e||!t)return!1;const a=G(e);return null!=(r=null==(n=null==a?void 0:a.childTypes)?void 0:n.includes(t))&&r}(e,t)),[e,t])}const le=["Form","Section","Term"],ie=["ShortAnswer","LongAnswer","SingleCheckbox"];function oe(e){return t=e.type,le.includes(t);var t}function ce(e){return t=e.type,ie.includes(t);var t}function se(e){const t=G(e.type);return oe(e)?e.title:ce(e)?e.question:`${t.name}`}function me(e){const{id:t,item:n,prefix:r="global",index:a}=e,l=ae(n.type),i={from:"Builder",item:n,index:a},{setNodeRef:o,isOver:c}=E({id:`Component-${r}-${t}-${n.id}`,data:i,disabled:!l}),s=c&&l;return y.createElement("div",{className:g("DropArea",{dropOver:s}),"data-for":n.id,ref:o})}function de(e){const{data:t}=e,[n]=v.useForm(),[r,a]=d.exports.useState("optional");return y.createElement(v,{form:n,layout:"vertical",initialValues:{requiredMarkValue:r},onValuesChange:({requiredMarkValue:e})=>{a(e)},requiredMark:r},y.createElement(v.Item,{label:"Label",required:!0,tooltip:"This is a required field"},y.createElement(x,{defaultValue:t.question,placeholder:"Select all the structures that exist on your property"})),y.createElement(v.Item,{label:"Placeholder"},y.createElement(x,{defaultValue:t.description,placeholder:""})))}function ue(e){const{item:t,index:n}=e,r=G(t.type),{listeners:a,setNodeRef:l}=b({id:`Component-Editor-${t.id}`,data:{from:"Builder",item:t}});return y.createElement("div",{className:"ComponentEditor"},y.createElement("div",o({className:"header",ref:l},a),y.createElement("img",{className:"icon",src:X[t.type]}),y.createElement("div",{className:"name"},r.name," - ",n+1)),y.createElement("div",{className:"fields"},y.createElement(de,{data:t})))}function pe(e){const{item:t,index:n}=e;return y.createElement("div",{className:"FormComponent","data-id":`item-${t.id}`},y.createElement(ue,{item:t,index:n}))}const fe="A".charCodeAt(0),he="Z".charCodeAt(0)-fe+1;function ye(e){var t=fe+e-1;return String.fromCharCode(t)}function Ee(e){const{item:t,index:n}=e,{listeners:r,setNodeRef:a}=b({id:`Component-Editor-${t.id}`,data:{from:"Builder",item:t}});return y.createElement("div",{className:"FormSection","data-id":`item-${t.id}`},y.createElement("div",o({className:"header",ref:a},r),y.createElement("img",{src:K}),y.createElement("span",null,(l=n+1)<=he?ye(l):ye(Math.floor((l-1)/he))+ye(l%he||he),". ",t.title)),y.createElement(xe,{item:t}));var l}function ge(e){const{item:t,index:n}=e,{listeners:r,setNodeRef:a}=b({id:`Component-Editor-${t.id}`,data:{from:"Builder",item:t}});return y.createElement("div",{className:"FormTerm","data-id":`item-${t.id}`},y.createElement("div",o({className:"header",ref:a},r),y.createElement("span",null,function(e){const t={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1};let n="";for(const r in t)for(;e>=t[r];)n+=r,e-=t[r];return n}(n+1),". ",t.title)),y.createElement(xe,{item:t}),0===t.children.length&&y.createElement("div",{className:"drop-zone"},y.createElement("div",{className:"spacer"}),y.createElement("div",{className:"tip"},"Drag and drop a component into the term"),y.createElement("div",{className:"spacer"})))}function ve(e){const{item:t,index:n}=e;switch(G(t.type),t.type){case"Form":return y.createElement(be,{item:t,index:n});case"Section":return y.createElement(Ee,{item:t,index:n});case"Term":return y.createElement(ge,{item:t,index:n});default:return y.createElement(pe,{item:t,index:n})}}function xe(e){const{item:t}=e,n=re();if(n){const e=G(n);if(ee((t=>t.level>=e.level)).includes(t.type))return null}return y.createElement("div",{className:"children"},oe(t)&&y.createElement(y.Fragment,null,t.children.map(((e,n)=>y.createElement(d.exports.Fragment,{key:e.id},y.createElement(me,{id:e.id,item:t,prefix:"form",index:n}),y.createElement(ve,{item:e,index:n})))),y.createElement(me,{id:"last",item:t,prefix:"form",index:t.children.length})))}function be(e){const{item:t}=e;return y.createElement("div",{className:"FormBuilder","data-id":t.id},y.createElement(xe,{item:t}))}function Ne(){return y.createElement("div",null,y.createElement(be,{item:J}))}function Ce(e,t){return e.includes(t)?e:[...e,t]}function Se(e,t){const n=e.indexOf(t);return-1===n?e:[...e.slice(0,n),...e.slice(n+1)]}const ke=()=>{},we=d.exports.createContext({expandedItems:[],collapsedTypes:[],expand:ke,collapse:ke,toggle:ke});function Te(e){const t=e,{className:n,item:{type:r},size:a=40}=t,l=s(t,["className","item","size"]);return y.createElement("img",c(o({},l),{className:g("ComponentIcon",n),src:X[r],style:o({width:a,height:a},l.style)}))}function Ie(e){var t;const{item:n,index:r}=e,{expandedItems:a,collapsedTypes:l,toggle:i,expand:c}=d.exports.useContext(we),s={from:"Builder",item:n},{setNodeRef:m,isOver:u,active:p}=E({id:`Component-tree-content-${n.id}`,data:s}),{listeners:f,setNodeRef:h}=b({id:`Component-Tree-${n.id}`,data:{from:"Builder",item:n}}),v=G(n.type),x=G(null==(t=te(p))?void 0:t.item.type),N=a.includes(n.id)&&!l.includes(n.type),C=d.exports.useCallback((()=>c(n.id)),[]);d.exports.useEffect((()=>(u&&x.level>v.level&&window.setTimeout(C,200),()=>window.clearTimeout(0))),[u,v,x]);const S=oe(n),k=se(n),w=d.exports.useCallback((e=>{e.stopPropagation();document.querySelector(`[data-id='item-${n.id}']`).scrollIntoView({behavior:"smooth"})}),[n]);return y.createElement("li",{className:g("TreeItem",{expanded:N})},y.createElement("div",o({ref:h},f),y.createElement("div",{ref:m,className:g("content",{dragOver:u}),"data-id":n.id,onClick:w},y.createElement("div",{className:"icon",onClick:()=>i(n.id),title:N?"Collapse":"Expand"},y.createElement(Te,{item:n,size:24})),y.createElement("span",{className:"title"},k),S&&!N&&y.createElement("span",{className:"child-count"},n.children.length))),y.createElement("ul",{className:"children"},S&&N&&y.createElement(y.Fragment,null,n.children.map(((e,t)=>y.createElement(d.exports.Fragment,{key:e.id},y.createElement(me,{id:e.id,item:n,prefix:"tree",index:t}),y.createElement(Ie,{item:e,index:t})))),y.createElement(me,{id:"last",item:n,prefix:"tree-last",index:n.children.length+1}))))}function De(e){const{item:t}=e,[n,r]=d.exports.useState([]),[a,l]=d.exports.useState([]),i=d.exports.useCallback((e=>{r((t=>Ce(t,e)))}),[]),o=d.exports.useCallback((e=>{r((t=>Se(t,e)))}),[]),c=d.exports.useCallback((e=>{r((t=>t.includes(e)?Se(t,e):Ce(t,e)))}),[i,o]),s=re();return d.exports.useEffect((()=>{if(s){const e=G(s),t=ee((t=>t.level>=e.level));l(t)}else l([])}),[s]),y.createElement(we.Provider,{value:{expandedItems:n,expand:i,collapse:o,toggle:c,collapsedTypes:a}},y.createElement("ul",{className:"Tree"},y.createElement(Ie,{item:t,index:0})))}function Fe(e){const t=e,{data:n}=t,r=s(t,["data"]);if(!n||!n.item)return null;console.log("DraggingItem",n);const a=G(n.item.type),l=se(n.item);return y.createElement("div",o({className:"DraggingItem"},r),y.createElement(Te,{className:"icon",item:n.item}),y.createElement("div",{className:"text"},"Library"!==n.from&&y.createElement("div",{className:"title"},a.name),y.createElement("div",{className:"name"},l)))}function Oe(e){const{type:t}=e,n=G(t),{attributes:r,listeners:a,setNodeRef:l,transform:i,isDragging:c}=b({id:`Component-${t}`,data:{from:"Library",item:n.getData()}});return y.createElement("div",o(o({className:"ComponentItem",ref:l},a),r),y.createElement(Te,{className:"icon",item:n}),y.createElement("div",{className:"name"},n.name))}const Ae=W.filter((e=>!e.disabled));function Le(){return y.createElement("div",{className:"Toolbox"},y.createElement("div",{className:"tip"},"Drag and drop a form component into a term"),y.createElement("div",null,Ae.map((e=>y.createElement(Oe,{key:e.type,type:e.type})))))}const qe=({activatorEvent:e,activeNodeRect:t,transform:n})=>{if(t&&e&&(N(e)||C(e))){const r=S(e);return r.x,t.left,r.y,t.top,o({},n)}return n},_e=k((()=>{const[e,t]=d.exports.useState("1"),[n,r]=d.exports.useState(null),[a,l]=d.exports.useState(!1),i=w(P,{activationConstraint:{distance:10}}),s=T(i),m=d.exports.useCallback((e=>{console.log(e.active.data),r(e.active.data.current)}),[]),u=d.exports.useCallback((e=>{console.log("DragEnd: ",e.active," drops one ",e.over),r(null)}),[]);return y.createElement(I,{sensors:s,collisionDetection:D,measuring:{draggable:{measure:e=>{const t=F(e);return c(o({},t),{width:210,height:56,right:t.left+210,bottom:t.top+56})}},droppable:{measure:e=>{const t=F(e);if(t.height>10)return t;const n=t.top-28;return c(o({},t),{height:56,top:n,bottom:n+56,offsetTop:t.offsetTop-28})}}},onDragStart:m,onDragEnd:u},y.createElement(O,{className:M},y.createElement(O.Header,{className:B},y.createElement("h1",null,"Form Builder"),y.createElement(A,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["index"],onSelect:e=>location.href=`/forme/${e.key}.html`},y.createElement(A.Item,{key:"builder"},"Builder"),y.createElement(A.Item,{key:"index"},"Dnd Kit"),y.createElement(A.Item,{key:"formily"},"Formily"))),y.createElement(O,null,y.createElement(O.Sider,{className:V,width:240,style:{overflowY:"auto"}},y.createElement(De,{item:J})),y.createElement(O.Content,{className:R},y.createElement(L,{className:j,type:"card",activeKey:e,onTabClick:t},y.createElement(L.TabPane,{tab:"Design",key:"1",style:{overflowY:"auto"}},y.createElement(Ne,null)),y.createElement(L.TabPane,{tab:"Schema",key:"2"}))),y.createElement(O.Sider,{className:z,width:240},y.createElement("h2",null,"Debugging"),y.createElement("p",null,y.createElement("label",null,y.createElement("b",null,"Show Active Container "),y.createElement(q,{checked:a,onChange:e=>l(e)}))),y.createElement("h2",null,"Component Library"),y.createElement(Le,null)))),y.createElement(_,{modifiers:[qe]},y.createElement(Fe,{data:n})),a&&y.createElement(ne,null))}));$.render(y.createElement(_e,null),document.getElementById("root"));
